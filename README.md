# PCP - Playlist Conversion Platform

Script to convert a platform from one music service to another.  So I can share my Google Play playlists with Spotifyers and vice versa.  

Currently supported:  Google Play Music and Spotify

Each service is an object with at minimum the following public methods:

    - authenticate() - Get user login and authenticate client
        Returns True if authenticated successfully, False otherwise

    - get_playlist_tracks() - Prompts user to input playlist URL, then grabs a list of tracks on the playlist
        Returns dict:  
            {
                "name": <playlist name>,
                "tracks": [
                    {
                        "artist": <artist>,
                        "album": <album>,
                        "track": <track name>
                    }
                ]
            }

    - search_for_tracklist(track_list) - Searches a service for a list of tracks (the value of indexing 'tracks' on the dict return by get_playlist_tracks) and returns a list of located/unlocated track GUIDs
        Returns dict:
            {"found": ["fdsa", "asdf"], "not_found": ["qwerty"]}

    - create_playlist(playlist_name) - Creates a playlist with given name on service
        Return string: the ID of the created playlist

    - add_tracks_to_playlist(playlist_id, track_list) - Adds list of tracks to playlist
        Returns nothing intelligent currently, haven't decided what this should return yet

New services can be plugged in by creating their class and methods in a new file, importing it into main, and adding the service into the `services` attribute of PlaylistConverter class

# Setup

Clone repo locally and change directory to local repo.  Create a virtualenv:

        python -m virtualenv venv

and activate it

        source venv/bin/activate

Install dependencies

        pip install -r requirements.txt

and run the script

        python main.py

# Info about services

### Spotify

Source playlist must be public, but can belong to anybody.  You will be prompted for the full public URL, copied straight out of the address bar.

### Google Play Music

Source playlist must be input as a shared link, generated by the owner of the playlist.  Hopefully I can find a better way to do it in the future.

The search for this one is weird.  Apparently users who do not have paid Play Music accounts don't get the correct search results, so this script won't work well for those users.  Luckily, if you're not paying for Play Music, you're probably not trying to convert playlist to it anyway.  Still would like to fix this though..


# TODO 

- ~~Handle cases where user selects the same service as both source and destination.  It should currently work but it is overcomplicated - no need to search a service for the Track IDs if you already have them.~~
- More services!  Apple Music next?  
